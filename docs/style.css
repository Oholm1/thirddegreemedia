/* ================================
   Third Degree Media â€” Global CSS
   ================================ */

/* Theme tokens */
:root{
  color-scheme: dark;
  --bg:#0b0b0c;
  --fg:#e9e9ee;
  --muted:#9aa0a6;
  --card:#111216;
  --border:#23262b;
  --accent:#ff6600;
  --link:#66ccff;
  --link-hover:#ffcc00;
}

/* Base & layout */
*,
*::before,
*::after { box-sizing: border-box; }
html { -webkit-text-size-adjust: 100%; }
html, body { margin:0; height:100%; }
body{
  background: var(--bg);
  color: var(--fg);
  font: 16px/1.6 ui-monospace,"Courier New",monospace;
  max-width: 70ch;
  margin: 0 auto;              /* center column */
  padding: 40px;
}

/* Background grid layer (cheap to paint) */
body::before{
  content:"";
  position: fixed; inset:0; z-index:-1;
  background: radial-gradient(rgba(255,255,255,.02) 1px, transparent 1px);
  background-size:20px 20px;
}

/* Typography & links */
h1,h2{ color: var(--accent); line-height:1.25; margin:0 0 .5rem; }
a{ color: var(--link); font-weight:700; text-decoration:none; }
a:hover{ color: var(--link-hover); text-decoration:underline; }
:focus-visible{ outline:2px dashed var(--accent); outline-offset:2px; }

/* Sections / cards */
section, article, .card, .panel{
  background: var(--card);
  border: 1px dashed var(--border);
  border-radius: 12px;
  padding: 20px;
  margin: 0 0 40px;
  contain: layout paint;                /* avoids page-wide repaints on hover */
  transition: border-color .2s ease;
}
section:hover{ border-color: var(--accent); }

/* Callouts */
.callout{ /* same as section, explicit hook */ }
.callout-dark{
  background: var(--card);
  border: 1px dashed var(--border);
  color: var(--fg);
}
hr{ border:none; border-top:1px dashed var(--border); margin:2rem 0; }

/* Lists, media, code */
ul{ padding-left: 1.1rem; }
img{ max-width:100%; height:auto; }
code, pre{
  background:#0f1115; color:var(--fg);
  border:1px solid #1b1f24; border-radius:8px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
}
code{ padding:.2rem .4rem; }
pre{ padding:.75rem 1rem; overflow:auto; }

/* Buttons */
.donate-button{
  background: var(--accent);
  color:#111;
  padding:.6rem 1rem;
  border-radius:8px;
  font-weight:700;
  text-decoration:none;
  display:inline-block;
}
.donate-button:hover{ filter: brightness(1.05); }

/* Footer */
footer p{ font-size:.9em; color:var(--muted); text-align:center; margin:.2rem 0; }

/* Accessibility helpers */
.skip-link{ position:absolute; left:-9999px; }
.skip-link:focus{
  left:16px; top:16px; z-index:10000;
  background:var(--card); color:var(--fg);
  padding:.5rem .75rem; border:1px dashed var(--border); border-radius:8px;
}
.sr-only{
  position:absolute !important; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

/* Mobile */
@media (max-width:600px){
  body{ padding:20px; font-size:1rem; line-height:1.7; }
  header, footer{ text-align:center; }
  h1,h2{ word-break: break-word; }
  a{ display:inline-block; padding:.2rem .25rem; }
  .donate-button{ display:block; text-align:center; margin:1rem auto; }
}

/* Safety: neutralize explicit white backgrounds */
.bg-white, .white-bg, [style*="background:#fff"], [style*="background: #fff"]{
  background: var(--card) !important;
  color: var(--fg) !important;
}

/* ================================
   Lean Speed & Privacy Badge
   ================================ */

:root{
  --badge-bg:#0b0b0c;
  --badge-fg:#e9e9ee;
  --badge-accent:#8ef0c0;
  --badge-muted:#8a8f98;
  --badge-border:#22262b;
}
.lean-badge{
  background:var(--badge-bg); color:var(--badge-fg);
  border:1px dashed var(--badge-border); border-radius:14px;
  padding:1.25rem 1.25rem 1rem; max-width:680px;
  font:13.5px/1.45 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
  box-shadow:0 1px 0 rgba(255,255,255,.04) inset, 0 6px 18px rgba(0,0,0,.25);
}
.lean-badge header{ display:flex; align-items:center; gap:.6rem; margin-bottom:.6rem; }
.lean-badge .glyph{ font-size:1.2rem; }
.lean-badge h3{ margin:0; font-size:1rem; letter-spacing:.2px; }
.lean-badge .sub{ color:var(--badge-muted); font-size:.85rem; }
.lean-badge .meters{ display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:.5rem; margin:.75rem 0; }
.lean-badge .kpi{ background:#111216; border:1px solid #1b1f24; border-radius:10px; padding:.6rem .7rem; }
.lean-badge .kpi .label{ color:var(--badge-muted); font-size:.8rem; display:block; }
.lean-badge .kpi .value{ font-variant-numeric: tabular-nums; font-weight:600; }
.lean-badge .pill{ border:1px solid #1b1f24; background:#101217; border-radius:999px; padding:.28rem .6rem; font-size:.78rem; color:var(--badge-muted); }
.lean-badge .truthy{ color:var(--badge-accent); border-color: rgba(142,240,192,.6); }
.lean-badge .falsy{ color:#ff9c9c; border-color: rgba(255,122,122,.5); }
.lean-badge .note{ color:var(--badge-muted); font-size:.78rem; margin-left:auto; }
@media (max-width:520px){ .lean-badge .meters{ grid-template-columns:1fr; } }

